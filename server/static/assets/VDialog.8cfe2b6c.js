import{m as ke}from"./VSelect.191c713b.js";import{p as ce,ag as Fe,an as Pe,ao as Ie,n as ve,C as Se,O as M,as as te,u as ae,o as V,aq as De,A as Ae,ar as Re,b0 as _,aJ as X,ad as de,$ as pe,D as l,a2 as J,at as Ee,J as B,au as Te,av as xe,F as ye,aw as Me,G as Ce,a4 as _e,b3 as Be,ax as fe,ay as Ne,af as Ue,b4 as Le,b5 as Oe,ah as He,b6 as ze,b7 as Ge,b8 as $e,aj as Ke,ak as Ve,b9 as je,ba as Je,aE as we,aF as qe,bb as We,bc as Qe,bd as Xe,ae as Ye,aL as Ze,be as et,ap as tt,bf as at,bg as lt,b1 as be,bh as nt}from"./index.69b87e29.js";import{m as ut,u as ot}from"./filter.e15dc9ca.js";import{V as it}from"./VCheckboxBtn.eae578de.js";function st(e,w,a){if(w==null)return e;if(Array.isArray(w))throw new Error("Multiple matches is not implemented");return typeof w=="number"&&~w?l(J,null,[l("span",{class:"v-autocomplete__unmask"},[e.substr(0,w)]),l("span",{class:"v-autocomplete__mask"},[e.substr(w,a)]),l("span",{class:"v-autocomplete__unmask"},[e.substr(w+a)])]):e}const rt=ce({autoSelectFirst:{type:[Boolean,String]},search:String,...ut({filterKeys:["title"]}),...ke(),...Fe(Pe({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Ie({transition:!1})},"VAutocomplete"),ht=ve()({name:"VAutocomplete",props:rt(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,w){let{slots:a}=w;const{t:A}=Se(),c=M(),n=te(!1),v=te(!0),N=M(!1),b=M(),g=ae(e,"menu"),i=V({get:()=>g.value,set:t=>{var s;g.value&&!t&&((s=b.value)==null?void 0:s.\u03A8openChildren)||(g.value=t)}}),u=te(-1),R=V(()=>{var t;return(t=c.value)==null?void 0:t.color}),{items:C,transformIn:$,transformOut:U}=De(e),{textColorClasses:oe,textColorStyles:Y}=Ae(R),m=ae(e,"search",""),F=ae(e,"modelValue",[],t=>$(Ne(t)),t=>{var d;const s=U(t);return e.multiple?s:(d=s[0])!=null?d:null}),L=Re(),{filteredItems:q,getMatches:O}=ot(e,C,V(()=>v.value?void 0:m.value)),y=V(()=>F.value.map(t=>C.value.find(s=>e.valueComparator(s.value,t.value))||t)),I=V(()=>e.hideSelected?q.value.filter(t=>!y.value.some(s=>s.value===t.value)):q.value),E=V(()=>y.value.map(t=>t.props.value)),S=V(()=>y.value[u.value]),o=V(()=>{var s;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&m.value===((s=I.value[0])==null?void 0:s.title))&&I.value.length>0&&!v.value&&!N.value}),x=V(()=>e.hideNoData&&!C.value.length||e.readonly||(L==null?void 0:L.isReadonly.value)),h=M();function k(t){e.openOnClear&&(i.value=!0),m.value=""}function W(){x.value||(i.value=!0)}function Z(t){x.value||(n.value&&(t.preventDefault(),t.stopPropagation()),i.value=!i.value)}function ee(t){var j,r,p;if(e.readonly||(L==null?void 0:L.isReadonly.value))return;const s=c.value.selectionStart,d=E.value.length;if((u.value>-1||["Enter","ArrowDown","ArrowUp"].includes(t.key))&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(i.value=!0),["Escape"].includes(t.key)&&(i.value=!1),["Enter","Escape","Tab"].includes(t.key)&&(o.value&&["Enter","Tab"].includes(t.key)&&z(q.value[0]),v.value=!0),t.key==="ArrowDown"&&o.value&&((j=h.value)==null||j.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(t.key)){if(u.value<0){t.key==="Backspace"&&!m.value&&(u.value=d-1);return}const f=u.value;S.value&&z(S.value),u.value=f>=d-1?d-2:f}if(t.key==="ArrowLeft"){if(u.value<0&&s>0)return;const f=u.value>-1?u.value-1:d-1;y.value[f]?u.value=f:(u.value=-1,c.value.setSelectionRange((r=m.value)==null?void 0:r.length,(p=m.value)==null?void 0:p.length))}if(t.key==="ArrowRight"){if(u.value<0)return;const f=u.value+1;y.value[f]?u.value=f:(u.value=-1,c.value.setSelectionRange(0,0))}}}function T(t){var s;t.key==="Tab"&&((s=c.value)==null||s.focus())}function K(t){m.value=t.target.value}function le(){var t;n.value&&(v.value=!0,(t=c.value)==null||t.focus())}function ie(t){n.value=!0,setTimeout(()=>{N.value=!0})}function se(t){N.value=!1}function re(t){(t==null||t===""&&!e.multiple)&&(F.value=[])}const H=te(!1);function z(t){if(e.multiple){const s=E.value.findIndex(d=>e.valueComparator(d,t.value));if(s===-1)F.value=[...F.value,t];else{const d=[...F.value];d.splice(s,1),F.value=d}}else F.value=[t],H.value=!0,m.value=t.title,i.value=!1,v.value=!0,X(()=>H.value=!1)}return _(n,(t,s)=>{var d,j;t!==s&&(t?(H.value=!0,m.value=e.multiple?"":String((j=(d=y.value.at(-1))==null?void 0:d.props.title)!=null?j:""),v.value=!0,X(()=>H.value=!1)):(!e.multiple&&!m.value?F.value=[]:o.value&&!N.value&&!y.value.some(r=>{let{value:p}=r;return p===I.value[0].value})&&z(I.value[0]),i.value=!1,m.value="",u.value=-1))}),_(m,t=>{!n.value||H.value||(t&&(i.value=!0),v.value=!t)}),de(()=>{const t=!!(e.chips||a.chip),s=!!(!e.hideNoData||I.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),d=F.value.length>0,[j]=pe.filterProps(e);return l(pe,B({ref:c},j,{modelValue:m.value,"onUpdate:modelValue":re,focused:n.value,"onUpdate:focused":r=>n.value=r,validationValue:F.externalValue,dirty:d,onInput:K,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":i.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!a.selection,"v-autocomplete--selecting-index":u.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:d?void 0:e.placeholder,"onClick:clear":k,"onMousedown:control":W,onKeydown:ee}),{...a,default:()=>l(J,null,[l(Ee,B({ref:b,modelValue:i.value,"onUpdate:modelValue":r=>i.value=r,activator:"parent",contentClass:"v-autocomplete__content",disabled:x.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:le},e.menuProps),{default:()=>[s&&l(Te,{ref:h,selected:E.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:r=>r.preventDefault(),onKeydown:T,onFocusin:ie,onFocusout:se,tabindex:"-1"},{default:()=>{var r,p,f,G;return[(r=a["prepend-item"])==null?void 0:r.call(a),!I.value.length&&!e.hideNoData&&((f=(p=a["no-data"])==null?void 0:p.call(a))!=null?f:l(xe,{title:A(e.noDataText)},null)),I.value.map((P,Q)=>{var me,ge;const D=B(P.props,{key:Q,active:o.value&&Q===0?!0:void 0,onClick:()=>z(P)});return(ge=(me=a.item)==null?void 0:me.call(a,{item:P,index:Q,props:D}))!=null?ge:l(xe,D,{prepend:ne=>{let{isSelected:ue}=ne;return l(J,null,[e.multiple&&!e.hideSelected?l(it,{key:P.value,modelValue:ue,ripple:!1,tabindex:"-1"},null):void 0,P.props.prependIcon&&l(ye,{icon:P.props.prependIcon},null)])},title:()=>{var ne,ue,he;return v.value?P.title:st(P.title,(ne=O(P))==null?void 0:ne.title,(he=(ue=m.value)==null?void 0:ue.length)!=null?he:0)}})}),(G=a["append-item"])==null?void 0:G.call(a)]}})]}),y.value.map((r,p)=>{var P,Q;function f(D){D.stopPropagation(),D.preventDefault(),z(r)}const G={"onClick:close":f,onMousedown(D){D.preventDefault(),D.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return l("div",{key:r.value,class:["v-autocomplete__selection",p===u.value&&["v-autocomplete__selection--selected",oe.value]],style:p===u.value?Y.value:{}},[t?a.chip?l(Ce,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:r.title}}},{default:()=>{var D;return[(D=a.chip)==null?void 0:D.call(a,{item:r,index:p,props:G})]}}):l(Me,B({key:"chip",closable:e.closableChips,size:"small",text:r.title},G),null):(Q=(P=a.selection)==null?void 0:P.call(a,{item:r,index:p}))!=null?Q:l("span",{class:"v-autocomplete__selection-text"},[r.title,e.multiple&&p<y.value.length-1&&l("span",{class:"v-autocomplete__selection-comma"},[_e(",")])])])})]),"append-inner":function(){var G;for(var r=arguments.length,p=new Array(r),f=0;f<r;f++)p[f]=arguments[f];return l(J,null,[(G=a["append-inner"])==null?void 0:G.call(a,...p),e.menuIcon?l(ye,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Z,onClick:Be},null):void 0])}})}),fe({isFocused:n,isPristine:v,menu:i,search:m,filteredItems:q,select:z},c)}});const ct=ce({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ue(),...Le()},"VTextarea"),pt=ve()({name:"VTextarea",directives:{Intersect:Oe},inheritAttrs:!1,props:ct(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,w){let{attrs:a,emit:A,slots:c}=w;const n=ae(e,"modelValue"),{isFocused:v,focus:N,blur:b}=He(e),g=V(()=>typeof e.counterValue=="function"?e.counterValue(n.value):(n.value||"").toString().length),i=V(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function u(o,x){var h,k;!e.autofocus||!o||(k=(h=x[0].target)==null?void 0:h.focus)==null||k.call(h)}const R=M(),C=M(),$=te(""),U=M(),oe=V(()=>e.persistentPlaceholder||v.value||e.active);function Y(){var o;U.value!==document.activeElement&&((o=U.value)==null||o.focus()),v.value||N()}function m(o){Y(),A("click:control",o)}function F(o){A("mousedown:control",o)}function L(o){o.stopPropagation(),Y(),X(()=>{n.value="",Xe(e["onClick:clear"],o)})}function q(o){var h;const x=o.target;if(n.value=x.value,(h=e.modelModifiers)!=null&&h.trim){const k=[x.selectionStart,x.selectionEnd];X(()=>{x.selectionStart=k[0],x.selectionEnd=k[1]})}}const O=M(),y=M(+e.rows),I=V(()=>["plain","underlined"].includes(e.variant));ze(()=>{e.autoGrow||(y.value=+e.rows)});function E(){!e.autoGrow||X(()=>{if(!O.value||!C.value)return;const o=getComputedStyle(O.value),x=getComputedStyle(C.value.$el),h=parseFloat(o.getPropertyValue("--v-field-padding-top"))+parseFloat(o.getPropertyValue("--v-input-padding-top"))+parseFloat(o.getPropertyValue("--v-field-padding-bottom")),k=O.value.scrollHeight,W=parseFloat(o.lineHeight),Z=Math.max(parseFloat(e.rows)*W+h,parseFloat(x.getPropertyValue("--v-input-control-height"))),ee=parseFloat(e.maxRows)*W+h||1/0,T=Ze(k!=null?k:0,Z,ee);y.value=Math.floor((T-h)/W),$.value=Ye(T)})}Ge(E),_(n,E),_(()=>e.rows,E),_(()=>e.maxRows,E),_(()=>e.density,E);let S;return _(O,o=>{o?(S=new ResizeObserver(E),S.observe(O.value)):S==null||S.disconnect()}),$e(()=>{S==null||S.disconnect()}),de(()=>{const o=!!(c.counter||e.counter||e.counterValue),x=!!(o||c.details),[h,k]=Ke(a),[{modelValue:W,...Z}]=Ve.filterProps(e),[ee]=je(e);return l(Ve,B({ref:R,modelValue:n.value,"onUpdate:modelValue":T=>n.value=T,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--plain-underlined":I.value},e.class],style:e.style},h,Z,{centerAffix:y.value===1&&!I.value,focused:v.value}),{...c,default:T=>{let{isDisabled:K,isDirty:le,isReadonly:ie,isValid:se}=T;return l(Je,B({ref:C,style:{"--v-textarea-control-height":$.value},onClick:m,onMousedown:F,"onClick:clear":L,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},ee,{active:oe.value||le.value,centerAffix:y.value===1&&!I.value,dirty:le.value||e.dirty,disabled:K.value,focused:v.value,error:se.value===!1}),{...c,default:re=>{let{props:{class:H,...z}}=re;return l(J,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),we(l("textarea",B({ref:U,class:H,value:n.value,onInput:q,autofocus:e.autofocus,readonly:ie.value,disabled:K.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:Y,onBlur:b},z,k),null),[[qe("intersect"),{handler:u},null,{once:!0}]]),e.autoGrow&&we(l("textarea",{class:[H,"v-textarea__sizer"],"onUpdate:modelValue":t=>n.value=t,ref:O,readonly:!0,"aria-hidden":"true"},null),[[We,n.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:x?T=>{var K;return l(J,null,[(K=c.details)==null?void 0:K.call(c,T),o&&l(J,null,[l("span",null,null),l(Qe,{active:e.persistentCounter||v.value,value:g.value,max:i.value},c.counter)])])}:void 0})}),fe({},R,C,U)}});const vt=ce({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...et({origin:"center center",scrollStrategy:"block",transition:{component:tt},zIndex:2400})},"VDialog"),xt=ve()({name:"VDialog",props:vt(),emits:{"update:modelValue":e=>!0},setup(e,w){let{slots:a}=w;const A=ae(e,"modelValue"),{scopeId:c}=at(),n=M();function v(b){var u,R;const g=b.relatedTarget,i=b.target;if(g!==i&&((u=n.value)==null?void 0:u.contentEl)&&((R=n.value)==null?void 0:R.globalTop)&&![document,n.value.contentEl].includes(i)&&!n.value.contentEl.contains(i)){const C=nt(n.value.contentEl);if(!C.length)return;const $=C[0],U=C[C.length-1];g===$?U.focus():$.focus()}}lt&&_(()=>A.value&&e.retainFocus,b=>{b?document.addEventListener("focusin",v):document.removeEventListener("focusin",v)},{immediate:!0}),_(A,async b=>{var g,i;await X(),b?(g=n.value.contentEl)==null||g.focus({preventScroll:!0}):(i=n.value.activatorEl)==null||i.focus({preventScroll:!0})});const N=V(()=>B({"aria-haspopup":"dialog","aria-expanded":String(A.value)},e.activatorProps));return de(()=>{const[b]=be.filterProps(e);return l(be,B({ref:n,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},b,{modelValue:A.value,"onUpdate:modelValue":g=>A.value=g,"aria-modal":"true",activatorProps:N.value,role:"dialog"},c),{activator:a.activator,default:function(){for(var g=arguments.length,i=new Array(g),u=0;u<g;u++)i[u]=arguments[u];return l(Ce,{root:"VDialog"},{default:()=>{var R;return[(R=a.default)==null?void 0:R.call(a,...i)]}})}})}),fe({},n)}});export{ht as V,pt as a,xt as b};
